{"ast":null,"code":"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { format, addHours, isWithinInterval } from 'date-fns';\nimport { ja } from 'date-fns/locale';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport var getTimeIntervalList = function getTimeIntervalList() {\n  // 15分間隔の時間のリストを返す\n  var hours = _toConsumableArray(Array(24)).map(function (_, i) {\n    return ('0' + i).slice(-2);\n  });\n\n  var minutes = ['00', '15', '30', '45'];\n  var timeList = hours.map(function (hour) {\n    return minutes.map(function (minute) {\n      return hour + ':' + minute;\n    });\n  }).flat(); // 最初の表示箇所を午前6時にする\n\n  var index = timeList.indexOf('06:00');\n  var start = timeList.slice(index);\n  var end = timeList.slice(0, index);\n  return [].concat(_toConsumableArray(start), _toConsumableArray(end));\n};\nexport var getDefaultStartAndEnd = function getDefaultStartAndEnd(date) {\n  // デフォルトの開始時刻と終了時刻を返す\n  var currentTime = format(new Date(), 'HH:mm:ss');\n  var datetime = new Date(\"\".concat(date, \" \").concat(currentTime));\n  var start = format(addHours(datetime, 1), 'yyyy/MM/dd HH:00:00');\n  var end = format(addHours(datetime, 2), 'yyyy/MM/dd HH:00:00');\n  return [start, end];\n};\nexport var isGreaterEndThanStart = function isGreaterEndThanStart(startDate, startTime, endDate, endTime, allDay) {\n  // 終了日時が開始日時の後になっているか\n  if (allDay) {\n    var start = new Date(startDate).getTime();\n    var end = new Date(endDate).getTime();\n    return end >= start;\n  } else {\n    var _start = new Date(\"\".concat(startDate, \" \").concat(startTime)).getTime();\n\n    var _end = new Date(\"\".concat(endDate, \" \").concat(endTime)).getTime();\n\n    return _end > _start;\n  }\n};\nexport var formatDateToJa = function formatDateToJa(date) {\n  // 日付を日本語表記で返す\n  return format(new Date(date), 'M月d日(E)', {\n    locale: ja\n  });\n};\nexport var isDateWithinInterval = function isDateWithinInterval(date, startDate, endDate) {\n  // startDateとendDateの間にdateが含まれるかどうか\n  return isWithinInterval(new Date(date), {\n    start: new Date(startDate),\n    end: new Date(endDate)\n  });\n};\nexport var compareDates = function compareDates(a, b) {\n  // 日付の比較を行う\n  if (a.start < b.start) return -1;\n  if (a.start > b.start) return 1;\n  return 0;\n};\nexport default new Vuex.Store({\n  state: {\n    isChecked: false\n  },\n  mutations: {\n    setChecked: function setChecked(state, value) {\n      state.isChecked = value;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/aaattt/projects/CalRailsVueApp/app/javascript/functions/datetime.js"],"names":["format","addHours","isWithinInterval","ja","Vue","Vuex","use","getTimeIntervalList","hours","Array","map","_","i","slice","minutes","timeList","hour","minute","flat","index","indexOf","start","end","getDefaultStartAndEnd","date","currentTime","Date","datetime","isGreaterEndThanStart","startDate","startTime","endDate","endTime","allDay","getTime","formatDateToJa","locale","isDateWithinInterval","compareDates","a","b","Store","state","isChecked","mutations","setChecked","value"],"mappings":"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","sourcesContent":["import { format, addHours, isWithinInterval } from 'date-fns';\nimport { ja } from 'date-fns/locale';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport const getTimeIntervalList = () => {\n  // 15分間隔の時間のリストを返す\n  const hours = [...Array(24)].map((_, i) => ('0' + i).slice(-2));\n  const minutes = ['00', '15', '30', '45'];\n  const timeList = hours\n    .map(hour => minutes.map(minute => hour + ':' + minute))\n    .flat();\n\n  // 最初の表示箇所を午前6時にする\n  const index = timeList.indexOf('06:00');\n  const start = timeList.slice(index);\n  const end = timeList.slice(0, index);\n  return [...start, ...end];\n};\n\nexport const getDefaultStartAndEnd = date => {\n  // デフォルトの開始時刻と終了時刻を返す\n  const currentTime = format(new Date(), 'HH:mm:ss');\n  const datetime = new Date(`${date} ${currentTime}`);\n  const start = format(addHours(datetime, 1), 'yyyy/MM/dd HH:00:00');\n  const end = format(addHours(datetime, 2), 'yyyy/MM/dd HH:00:00');\n  return [start, end];\n};\n\nexport const isGreaterEndThanStart = (\n  startDate,\n  startTime,\n  endDate,\n  endTime,\n  allDay\n) => {\n  // 終了日時が開始日時の後になっているか\n  if (allDay) {\n    const start = new Date(startDate).getTime();\n    const end = new Date(endDate).getTime();\n    return end >= start;\n  } else {\n    const start = new Date(`${startDate} ${startTime}`).getTime();\n    const end = new Date(`${endDate} ${endTime}`).getTime();\n    return end > start;\n  }\n};\n\nexport const formatDateToJa = date => {\n  // 日付を日本語表記で返す\n  return format(new Date(date), 'M月d日(E)', { locale: ja });\n};\n\nexport const isDateWithinInterval = (date, startDate, endDate) => {\n  // startDateとendDateの間にdateが含まれるかどうか\n  return isWithinInterval(new Date(date), {\n    start: new Date(startDate),\n    end: new Date(endDate)\n  });\n};\n\nexport const compareDates = (a, b) => {\n  // 日付の比較を行う\n  if (a.start < b.start) return -1;\n  if (a.start > b.start) return 1;\n  return 0;\n};\n\nexport default new Vuex.Store({\n  state: {\n    isChecked: false,\n  },\n  mutations: {\n    setChecked(state, value) {\n      state.isChecked = value;\n    },\n  },\n});"]},"metadata":{},"sourceType":"module"}