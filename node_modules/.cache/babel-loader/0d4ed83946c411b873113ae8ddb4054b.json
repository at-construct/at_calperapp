{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'App',\n  methods: {\n    changeColor: function changeColor() {\n      var _this = this;\n\n      setTimeout(function () {\n        var dayList = Array.from(_this.$refs.calendar.$vnode.elm.getElementsByClassName('v-calendar-weekly__week'));\n        dayList.map(function (el) {\n          el.children[0].classList.add('sunday');\n          el.children[6].classList.add('saturday');\n        });\n      }, 200);\n    }\n  }\n};","map":{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiNA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,sBAAA,CAAA,yBAAA,CAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,EAAA;AACA,UAAA,EAAA,CAAA,QAAA,CAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,QAAA;AACA,UAAA,EAAA,CAAA,QAAA,CAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA;AACA,SAHA;AAIA,OANA,EAMA,GANA,CAAA;AAOA;AATA;AAFA,CAAA","sourcesContent":["<template>\n  <div>\n<!-- ヘッダー -->\n    <v-sheet height=\"9vh\">\n      <v-toolbar flat>\n        <v-app-bar-nav-icon @click.stop=\"drawer = !drawer\" class=\"ml-auto\">\n        </v-app-bar-nav-icon>\n        <v-btn icon class=\"ml-auto\" @click=\"$refs.calendar.prev()\">\n          <v-icon>mdi-chevron-left</v-icon>\n        </v-btn>\n\n        <v-toolbar-title>{{ title }}</v-toolbar-title>\n\n        <v-btn icon class=\"mr-auto\" @click=\"$refs.calendar.next()\">\n          <v-icon>mdi-chevron-right</v-icon>\n        </v-btn>\n\n        <v-btn outlined x-small class=\"mr-auto\" @click=\"setToday\">\n          今日\n        </v-btn>\n\n      </v-toolbar>\n    </v-sheet>\n\n<!-- 左側ドロワー -->\n    <v-sheet height=\"81vh\" class=\"d-flex\">\n      <v-navigation-drawer  v-model=\"drawer\" absolute left temporary>\n        <v-list-item-group v-model=\"group\">\n          <v-list-item @click=\"type = 'day'\">\n            <!-- <v-icon>mdi-view-day-outline</v-icon> -->\n            <v-list-item-title>Day</v-list-item-title>\n          </v-list-item>\n          <v-list-item @click=\"type = 'week'\">\n            <!-- <v-icon>mdi-view-week-outline</v-icon> -->\n            <v-list-item-title>Week</v-list-item-title>\n          </v-list-item>\n          <v-list-item @click=\"type = 'month'\">\n            <!-- <v-icon>mdi-grid</v-icon> -->\n            <v-list-item-title>Month</v-list-item-title>\n          </v-list-item>\n        </v-list-item-group >\n        <CalendarList />\n      </v-navigation-drawer>\n      \n<!-- ホームカレンダー -->\n        <v-sheet\n        height=\"94vh\"\n        >\n          <v-calendar\n            ref=\"calendar\"\n            v-model=\"value\"\n            color=\"info\"\n            :events=\"events\"\n            :type=\"type\"\n            @change=\"fetchEvents\"\n            locale=\"ja-jp\"\n            :day-format=\"timestamp => new Date(timestamp.date).getDate()\"\n            :month-format=\"timestamp => new Date(timestamp.date).getMonth() + 1 + ' /'\"\n            @click:event=\"showEvent\"\n            @click:day=\"initEvent\"\n            @click:date=\"showDayEvents\"\n            @click:more=\"showDayEvents\"\n          ></v-calendar>\n        </v-sheet>\n\n      <template slot='day-content' slot-scope='props'>\n        <div class=\"vc-day-content\">\n        <div v-bind:style=\"addStyleTextColor(props.day.weekday)\">\n          {{ props.day.day }}</div>\n        </div>\n      </template>\n    </v-sheet>\n\n<!-- カレンダー直下にプラスボタンはここから記述 -->\n      <v-row justify=\"center\">\n        <v-dialog\n          v-model=\"dialog\"\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <!-- <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              x-small\n              fab\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon>\n                mdi-plus\n              </v-icon>\n            </v-btn>\n          </template> -->\n        </v-dialog>\n      </v-row>\n\n<!-- イベント作成ダイアログ -->\n  <v-row justify=\"center\">\n    <v-dialog \n      :value=\"event !== null\"\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n      <EventDetailDialog v-if=\"event !== null && !isEditMode\" />\n      <EventFormDialog v-if=\"event !== null && isEditMode\" />\n    </v-dialog>\n\n    <v-dialog\n    :value=\"clickedDate !== null\"\n    persistent\n    max-width=\"800\"\n    max-high= \"800\"\n    >\n      <DayEventList />\n    </v-dialog>\n  </v-row>\n\n  </div>\n</template>\n\n<script>\nimport { format } from 'date-fns';\nimport { mapGetters, mapActions } from 'vuex';\nimport EventDetailDialog from '../events/EventDetailDialog';\nimport EventFormDialog from '../events/EventFormDialog';\nimport DayEventList from '../events/DayEventList';\nimport CalendarList from '../calendars/CalendarList';\nimport { getDefaultStartAndEnd } from '../../functions/datetime';\n\nexport default {\n  name: 'Calendar',\n  components: {\n    EventDetailDialog,\n    EventFormDialog,\n    DayEventList,\n    CalendarList,\n  },\n  data: () => ({\n    value: format(new Date(), 'yyyy/MM/dd'),\n    drawer: false,\n    group: null,\n    type: 'month',\n    dialog: null,\n  }),\n  watch: {\n    group () {\n      this.drawer = false\n    },\n  },\n  computed: {\n    ...mapGetters('events', ['events', 'event', 'isEditMode', 'clickedDate']),\n    title() {\n      return format(new Date(this.value), 'yyyy年 M月');\n    },\n  },\n  methods: {\n    ...mapActions('events', ['fetchEvents', 'setEvent', 'setEditMode', 'setClickedDate']),\n    setToday() {\n      this.value = format(new Date(), 'yyyy/MM/dd');\n    },\n    showEvent({ nativeEvent, event }) {\n      this.setEvent(event);\n      nativeEvent.stopPropagation();\n    },\n    closeDialog(){\n    this.setEvent(null);\n    this.setEditMode(false);\n    this.setClickedDate(null);\n    },\n    initEvent({ date }) {\n      if (this.clickedDate !== null) {\n        return;\n      }\n      date = date.replace(/-/g, '/');\n      const [start, end] = getDefaultStartAndEnd(date);\n      this.setEvent({ name: '', start, end, timed: true });\n      this.setEditMode(true);\n    },\n    showDayEvents({ date }) {\n        date = date.replace(/-/g, '/');\n        this.setClickedDate(date);\n    },\n    addStyleTextColor: function(weekday) {\n      if (weekday === 1) {\n        return {\n          color: \"red\"\n        };\n      } else if (weekday === 7) {\n        return {\n          color: \"#00c0ff\"\n        };\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <v-app>\n    <div>\n      <v-sheet height=\"94vh\">\n        <v-calendar ref=\"calendar\" @change=\"changeColor\"></v-calendar>\n      </v-sheet>\n    </div>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  methods:{\n    changeColor: function () {\n      setTimeout(() => {\n        const dayList = Array.from(this.$refs.calendar.$vnode.elm.getElementsByClassName('v-calendar-weekly__week'))\n        dayList.map(el => {\n          el.children[0].classList.add('sunday')\n          el.children[6].classList.add('saturday')\n        })\n      }, 200)\n    }\n  },\n};\n</script>\n<style>\n.saturday {\n  background: rgba(0, 0, 255, .1);\n}\n.sunday {\n  background: rgba(255, 0, 0, .1);\n}\n</style>"],"sourceRoot":"app/javascript/components/pages"},"metadata":{},"sourceType":"module"}